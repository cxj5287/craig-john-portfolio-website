import"./navslide-24dee725.js";/*!
 * jQuery Magnify Plugin v2.3.3 by T. H. Doan (https://thdoan.github.io/magnify/)
 * Based on http://thecodeplayer.com/walkthrough/magnifying-glass-for-images-using-jquery-and-css3
 *
 * jQuery Magnify by T. H. Doan is licensed under the MIT License.
 * Read a copy of the license in the LICENSE file or at https://choosealicense.com/licenses/mit/
 */(function(o){o.fn.magnify=function(u){u=o.extend({src:"",speed:100,timeout:-1,touchBottomOffset:0,finalWidth:null,finalHeight:null,magnifiedWidth:null,magnifiedHeight:null,limitBounds:!1,mobileCloseEvent:"touchstart",afterLoad:function(){}},u);var z=this,$=o("html"),g=function(x){var w=o(x),F=w.closest("a"),m={};for(var S in u)m[S]=w.attr("data-magnify-"+S.toLowerCase());var L=m.src||u.src||F.attr("href")||"";if(!!L){var T,M,W,C,A,k,I,j,B=0,G=0,K,J,h,d,e,t,i=function(){var n=T.offset();return t={top:w.offset().top-n.top+parseInt(w.css("border-top-width"))+parseInt(w.css("padding-top")),left:w.offset().left-n.left+parseInt(w.css("border-left-width"))+parseInt(w.css("padding-left"))},n.top+=t.top,n.left+=t.left,n},a=function(){M.is(":visible")&&M.fadeOut(u.speed,function(){$.removeClass("magnifying").trigger("magnifyend")})},r=function(n){if(!C){E();return}if(n?(n.preventDefault(),K=n.pageX||n.originalEvent.touches[0].pageX,J=n.pageY||n.originalEvent.touches[0].pageY,w.data("lastPos",{x:K,y:J})):(K=w.data("lastPos").x,J=w.data("lastPos").y),h=K-e.left,d=J-e.top-u.touchBottomOffset,M.is(":animated")||(h>B&&h<W-B&&d>G&&d<C-G?M.is(":hidden")&&($.addClass("magnifying").trigger("magnifystart"),M.fadeIn(u.speed)):a()),M.is(":visible")){var p="";if(A&&k){var l=-Math.round(h/W*A-I/2),c=-Math.round(d/C*k-j/2);if(u.limitBounds){var v=-Math.round((W-B)/W*A-I/2),y=-Math.round((C-G)/C*k-j/2);l>0?l=0:l<v&&(l=v),c>0?c=0:c<y&&(c=y)}p=l+"px "+c+"px"}M.css({top:Math.round(d-j/2)+t.top+"px",left:Math.round(h-I/2)+t.left+"px","background-position":p})}};isNaN(+m.speed)||(u.speed=+m.speed),isNaN(+m.timeout)||(u.timeout=+m.timeout),isNaN(+m.finalWidth)||(u.finalWidth=+m.finalWidth),isNaN(+m.finalHeight)||(u.finalHeight=+m.finalHeight),isNaN(+m.magnifiedWidth)||(u.magnifiedWidth=+m.magnifiedWidth),isNaN(+m.magnifiedHeight)||(u.magnifiedHeight=+m.magnifiedHeight),m.limitBounds==="true"&&(u.limitBounds=!0),typeof window[m.afterLoad]=="function"&&(u.afterLoad=window[m.afterLoad]),/\b(Android|BlackBerry|IEMobile|iPad|iPhone|Mobile|Opera Mini)\b/.test(navigator.userAgent)?isNaN(+m.touchBottomOffset)||(u.touchBottomOffset=+m.touchBottomOffset):u.touchBottomOffset=0,w.data("originalStyle",w.attr("style"));var s=new Image;o(s).on({load:function(){w.css("display","block"),w.parent(".magnify").length||w.wrap('<div class="magnify"></div>'),T=w.parent(".magnify"),w.prev(".magnify-lens").length?T.children(".magnify-lens").css("background-image","url('"+L+"')"):w.before(`<div class="magnify-lens loading" style="background:url('`+L+`') 0 0 no-repeat"></div>`),M=T.children(".magnify-lens"),M.removeClass("loading"),W=u.finalWidth||w.width(),C=u.finalHeight||w.height(),A=u.magnifiedWidth||s.width,k=u.magnifiedHeight||s.height,I=M.width(),j=M.height(),e=i(),u.limitBounds&&(B=I/2/(A/W),G=j/2/(k/C)),(A!==s.width||k!==s.height)&&M.css("background-size",A+"px "+k+"px"),w.data("zoomSize",{width:A,height:k}),T.data("mobileCloseEvent",m.mobileCloseEvent||u.mobileCloseEvent),s=null,u.afterLoad(),M.is(":visible")&&r(),T.off().on({"mousemove touchmove":r,mouseenter:function(){e=i()},mouseleave:a}),u.timeout>=0&&T.on("touchend",function(){setTimeout(a,u.timeout)}),o("body").not(T).on("touchstart",a);var n=w.attr("usemap");if(n){var p=o("map[name="+n.slice(1)+"]");w.after(p),T.click(function(l){if(l.clientX||l.clientY){M.hide();var c=document.elementFromPoint(l.clientX||l.originalEvent.touches[0].clientX,l.clientY||l.originalEvent.touches[0].clientY);c.nodeName==="AREA"?c.click():o("area",p).each(function(){var v=o(this).attr("coords").split(",");if(h>=v[0]&&h<=v[2]&&d>=v[1]&&d<=v[3])return this.click(),!1})}})}F.length&&(F.css("display","inline-block"),F.attr("href")&&!(m.src||u.src)&&F.click(function(l){l.preventDefault()}))},error:function(){s=null}}),s.src=L}},Z=0,E=function(){clearTimeout(Z),Z=setTimeout(function(){z.destroy(),z.magnify(u)},100)};return this.destroy=function(){return this.each(function(){var x=o(this),w=x.prev("div.magnify-lens"),F=x.data("originalStyle");x.parent("div.magnify").length&&w.length&&(F?x.attr("style",F):x.removeAttr("style"),x.unwrap(),w.remove())}),o(window).off("resize",E),z},o(window).resize(E),this.each(function(){g(this)})}})(jQuery);(function(o){function u(e,t,i){if(!i[0]||typeof i[0]=="object")return t.init.apply(e,i);if(t[i[0]])return t[i[0]].apply(e,Array.prototype.slice.call(i,1));throw S(i[0]+" is not a method or property")}function z(e,t,i,a){return{css:{position:"absolute",top:e,left:t,overflow:a||"hidden",zIndex:i||"auto"}}}function $(e,t,i,a,r){var s=1-r,n=s*s*s,p=r*r*r;return g(Math.round(n*e.x+3*r*s*s*t.x+3*r*r*s*i.x+p*a.x),Math.round(n*e.y+3*r*s*s*t.y+3*r*r*s*i.y+p*a.y))}function g(e,t){return{x:e,y:t}}function Z(e,t,i){return T&&i?" translate3d("+e+"px,"+t+"px, 0px) ":" translate("+e+"px, "+t+"px) "}function E(e){return" rotate("+e+"deg) "}function x(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function w(){for(var e=["Moz","Webkit","Khtml","O","ms"],t=e.length,i="";t--;)e[t]+"Transform"in document.body.style&&(i="-"+e[t].toLowerCase()+"-");return i}function F(e,t,i,a,r){var s,n=[];if(W=="-webkit-"){for(s=0;s<r;s++)n.push("color-stop("+a[s][0]+", "+a[s][1]+")");e.css({"background-image":"-webkit-gradient(linear, "+t.x+"% "+t.y+"%,"+i.x+"% "+i.y+"%, "+n.join(",")+" )"})}else{var t={x:t.x/100*e.width(),y:t.y/100*e.height()},i={x:i.x/100*e.width(),y:i.y/100*e.height()},c=i.x-t.x;s=i.y-t.y;var p=Math.atan2(s,c),l=p-Math.PI/2,l=Math.abs(e.width()*Math.sin(l))+Math.abs(e.height()*Math.cos(l)),c=Math.sqrt(s*s+c*c),i=g(i.x<t.x?e.width():0,i.y<t.y?e.height():0),v=Math.tan(p);for(s=-1/v,v=(s*i.x-i.y-v*t.x+t.y)/(s-v),i=s*v-s*i.x+i.y,t=Math.sqrt(Math.pow(v-t.x,2)+Math.pow(i-t.y,2)),s=0;s<r;s++)n.push(" "+a[s][1]+" "+100*(t+c*a[s][0])/l+"%");e.css({"background-image":W+"linear-gradient("+-p+"rad,"+n.join(",")+")"})}}function m(e,t,i){return e=o.Event(e),t.trigger(e,i),e.isDefaultPrevented()?"prevented":e.isPropagationStopped()?"stopped":""}function S(e){function t(i){this.name="TurnJsError",this.message=i}return t.prototype=Error(),t.prototype.constructor=t,new t(e)}function L(e){var t={top:0,left:0};do t.left+=e.offsetLeft,t.top+=e.offsetTop;while(e=e.offsetParent);return t}var T,M,W="",C=Math.PI,A=C/2,k="ontouchstart"in window,I=k?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},j={backward:["bl","tl"],forward:["br","tr"],all:"tl bl tr br l r".split(" ")},B=["single","double"],G=["ltr","rtl"],K={acceleration:!0,display:"double",duration:600,page:1,gradients:!0,turnCorners:"bl,br",when:null},J={cornerSize:100},h={init:function(s){T="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style;var t;M=(t=/AppleWebkit\/([0-9\.]+)/i.exec(navigator.userAgent))?534.3<parseFloat(t[1]):!0,W=w();var i;t=0;var a=this.data(),r=this.children(),s=o.extend({width:this.width(),height:this.height(),direction:this.attr("dir")||this.css("direction")||"ltr"},K,s);if(a.opts=s,a.pageObjs={},a.pages={},a.pageWrap={},a.pageZoom={},a.pagePlace={},a.pageMv=[],a.zoom=1,a.totalPages=s.pages||0,a.eventHandlers={touchStart:o.proxy(h._touchStart,this),touchMove:o.proxy(h._touchMove,this),touchEnd:o.proxy(h._touchEnd,this),start:o.proxy(h._eventStart,this)},s.when)for(i in s.when)x(i,s.when)&&this.bind(i,s.when[i]);for(this.css({position:"relative",width:s.width,height:s.height}),this.turn("display",s.display),s.direction!==""&&this.turn("direction",s.direction),T&&!k&&s.acceleration&&this.transform(Z(0,0,!0)),i=0;i<r.length;i++)o(r[i]).attr("ignore")!="1"&&this.turn("addPage",r[i],++t);return o(this).bind(I.down,a.eventHandlers.touchStart).bind("end",h._eventEnd).bind("pressed",h._eventPressed).bind("released",h._eventReleased).bind("flip",h._flip),o(this).parent().bind("start",a.eventHandlers.start),o(document).bind(I.move,a.eventHandlers.touchMove).bind(I.up,a.eventHandlers.touchEnd),this.turn("page",s.page),a.done=!0,this},addPage:function(e,t){var i,a=!1,r=this.data(),s=r.totalPages+1;if(r.destroying)return!1;if((i=/\bp([0-9]+)\b/.exec(o(e).attr("class")))&&(t=parseInt(i[1],10)),t){if(t==s)a=!0;else if(t>s)throw S('Page "'+t+'" cannot be inserted')}else t=s,a=!0;return 1<=t&&t<=s&&(i=r.display=="double"?t%2?" odd":" even":"",r.done&&this.turn("stop"),t in r.pageObjs&&h._movePages.call(this,t,1),a&&(r.totalPages=s),r.pageObjs[t]=o(e).css({float:"left"}).addClass("page p"+t+i),navigator.userAgent.indexOf("MSIE 9.0")!=-1&&r.pageObjs[t].hasClass("hard")&&r.pageObjs[t].removeClass("hard"),h._addPage.call(this,t),h._removeFromDOM.call(this)),this},_addPage:function(e){var t=this.data(),i=t.pageObjs[e];if(i)if(h._necessPage.call(this,e)){if(!t.pageWrap[e]){t.pageWrap[e]=o("<div/>",{class:"page-wrapper",page:e,css:{position:"absolute",overflow:"hidden"}}),this.append(t.pageWrap[e]),t.pagePlace[e]||(t.pagePlace[e]=e,t.pageObjs[e].appendTo(t.pageWrap[e]));var a=h._pageSize.call(this,e,!0);i.css({width:a.width,height:a.height}),t.pageWrap[e].css(a)}t.pagePlace[e]==e&&h._makeFlip.call(this,e)}else t.pagePlace[e]=0,t.pageObjs[e]&&t.pageObjs[e].remove()},hasPage:function(e){return x(e,this.data().pageObjs)},center:function(e){var t=this.data(),i=o(this).turn("size"),a=0;return t.noCenter||(t.display=="double"&&(e=this.turn("view",e||t.tpage||t.page),t.direction=="ltr"?e[0]?e[1]||(a+=i.width/4):a-=i.width/4:e[0]?e[1]||(a-=i.width/4):a+=i.width/4),o(this).css({marginLeft:a})),this},destroy:function(){var e=this,t=this.data(),i="end first flip last pressed released start turning turned zooming missing".split(" ");if(m("destroying",this)!="prevented"){for(t.destroying=!0,o.each(i,function(a,r){e.unbind(r)}),this.parent().unbind("start",t.eventHandlers.start),o(document).unbind(I.move,t.eventHandlers.touchMove).unbind(I.up,t.eventHandlers.touchEnd);t.totalPages!==0;)this.turn("removePage",t.totalPages);return t.fparent&&t.fparent.remove(),t.shadow&&t.shadow.remove(),this.removeData(),t=null,this}},is:function(){return typeof this.data().pages=="object"},zoom:function(e){var t=this.data();if(typeof e=="number"){if(.001>e||100<e)throw S(e+" is not a value for zoom");if(m("zooming",this,[e,t.zoom])=="prevented")return this;var s=this.turn("size"),i=this.turn("view"),a=1/t.zoom,r=Math.round(s.width*a*e),s=Math.round(s.height*a*e);for(t.zoom=e,o(this).turn("stop").turn("size",r,s),t.opts.autoCenter&&this.turn("center"),h._updateShadow.call(this),e=0;e<i.length;e++)i[e]&&t.pageZoom[i[e]]!=t.zoom&&(this.trigger("zoomed",[i[e],i,t.pageZoom[i[e]],t.zoom]),t.pageZoom[i[e]]=t.zoom);return this}return t.zoom},_pageSize:function(e,t){var i=this.data(),a={};if(i.display=="single")a.width=this.width(),a.height=this.height(),t&&(a.top=0,a.left=0,a.right="auto");else{var r=this.width()/2,s=this.height();if(i.pageObjs[e].hasClass("own-size")?(a.width=i.pageObjs[e].width(),a.height=i.pageObjs[e].height()):(a.width=r,a.height=s),t){var n=e%2;a.top=(s-a.height)/2,i.direction=="ltr"?(a[n?"right":"left"]=r-a.width,a[n?"left":"right"]="auto"):(a[n?"left":"right"]=r-a.width,a[n?"right":"left"]="auto")}}return a},_makeFlip:function(e){var t=this.data();if(!t.pages[e]&&t.pagePlace[e]==e){var i=t.display=="single",a=e%2;t.pages[e]=t.pageObjs[e].css(h._pageSize.call(this,e)).flip({page:e,next:a||i?e+1:e-1,turn:this}).flip("disable",t.disabled),h._setPageLoc.call(this,e),t.pageZoom[e]=t.zoom}return t.pages[e]},_makeRange:function(){var e,t;if(!(1>this.data().totalPages))for(t=this.turn("range"),e=t[0];e<=t[1];e++)h._addPage.call(this,e)},range:function(s){var t,i,a,r=this.data(),s=s||r.tpage||r.page||1;if(a=h._view.call(this,s),1>s||s>r.totalPages)throw S('"'+s+'" is not a valid page');return a[1]=a[1]||a[0],1<=a[0]&&a[1]<=r.totalPages?(s=Math.floor(2),r.totalPages-a[1]>a[0]?(t=Math.min(a[0]-1,s),i=2*s-t):(i=Math.min(r.totalPages-a[1],s),t=2*s-i)):i=t=5,[Math.max(1,a[0]-t),Math.min(r.totalPages,a[1]+i)]},_necessPage:function(e){if(e===0)return!0;var t=this.turn("range");return this.data().pageObjs[e].hasClass("fixed")||e>=t[0]&&e<=t[1]},_removeFromDOM:function(){var e,t=this.data();for(e in t.pageWrap)x(e,t.pageWrap)&&!h._necessPage.call(this,e)&&h._removePageFromDOM.call(this,e)},_removePageFromDOM:function(e){var t=this.data();if(t.pages[e]){var i=t.pages[e].data();d._moveFoldingPage.call(t.pages[e],!1),i.f&&i.f.fwrapper&&i.f.fwrapper.remove(),t.pages[e].removeData(),t.pages[e].remove(),delete t.pages[e]}t.pageObjs[e]&&t.pageObjs[e].remove(),t.pageWrap[e]&&(t.pageWrap[e].remove(),delete t.pageWrap[e]),h._removeMv.call(this,e),delete t.pagePlace[e],delete t.pageZoom[e]},removePage:function(e){var t=this.data();if(e=="*")for(;t.totalPages!==0;)this.turn("removePage",t.totalPages);else{if(1>e||e>t.totalPages)throw S("The page "+e+" doesn't exist");t.pageObjs[e]&&(this.turn("stop"),h._removePageFromDOM.call(this,e),delete t.pageObjs[e]),h._movePages.call(this,e,-1),t.totalPages-=1,t.page>t.totalPages?(t.page=null,h._fitPage.call(this,t.totalPages)):(h._makeRange.call(this),this.turn("update"))}return this},_movePages:function(e,t){var i,a=this,r=this.data(),s=r.display=="single",n=function(p){var l=p+t,c=l%2,v=c?" odd ":" even ";r.pageObjs[p]&&(r.pageObjs[l]=r.pageObjs[p].removeClass("p"+p+" odd even").addClass("p"+l+v)),r.pagePlace[p]&&r.pageWrap[p]&&(r.pagePlace[l]=l,r.pageWrap[l]=r.pageObjs[l].hasClass("fixed")?r.pageWrap[p].attr("page",l):r.pageWrap[p].css(h._pageSize.call(a,l,!0)).attr("page",l),r.pages[p]&&(r.pages[l]=r.pages[p].flip("options",{page:l,next:s||c?l+1:l-1})),t&&(delete r.pages[p],delete r.pagePlace[p],delete r.pageZoom[p],delete r.pageObjs[p],delete r.pageWrap[p]))};if(0<t)for(i=r.totalPages;i>=e;i--)n(i);else for(i=e;i<=r.totalPages;i++)n(i)},display:function(e){var t=this.data(),i=t.display;if(e===void 0)return i;if(o.inArray(e,B)==-1)throw S('"'+e+'" is not a value for display');switch(e){case"single":t.pageObjs[0]||(this.turn("stop").css({overflow:"hidden"}),t.pageObjs[0]=o("<div />",{class:"page p-temporal"}).css({width:this.width(),height:this.height()}).appendTo(this)),this.addClass("shadow");break;case"double":t.pageObjs[0]&&(this.turn("stop").css({overflow:""}),t.pageObjs[0].remove(),delete t.pageObjs[0]),this.removeClass("shadow")}return t.display=e,i&&(e=this.turn("size"),h._movePages.call(this,1,0),this.turn("size",e.width,e.height).turn("update")),this},direction:function(e){var t=this.data();if(e===void 0)return t.direction;if(e=e.toLowerCase(),o.inArray(e,G)==-1)throw S('"'+e+'" is not a value for direction');return e=="rtl"&&o(this).attr("dir","ltr").css({direction:"ltr"}),t.direction=e,t.done&&this.turn("size",o(this).width(),o(this).height()),this},animating:function(){return 0<this.data().pageMv.length},corner:function(){var e,t,i=this.data();for(t in i.pages)if(x(t,i.pages)&&(e=i.pages[t].flip("corner")))return e;return!1},data:function(){return this.data()},disable:function(e){var t,i=this.data(),a=this.turn("view");i.disabled=e===void 0||e===!0;for(t in i.pages)x(t,i.pages)&&i.pages[t].flip("disable",i.disabled?!0:o.inArray(parseInt(t,10),a)==-1);return this},disabled:function(e){return e===void 0?this.data().disabled===!0:this.turn("disable",e)},size:function(e,t){if(e===void 0||t===void 0)return{width:this.width(),height:this.height()};this.turn("stop");var i,a,r=this.data();a=r.display=="double"?e/2:e,this.css({width:e,height:t}),r.pageObjs[0]&&r.pageObjs[0].css({width:a,height:t});for(i in r.pageWrap)x(i,r.pageWrap)&&(a=h._pageSize.call(this,i,!0),r.pageObjs[i].css({width:a.width,height:a.height}),r.pageWrap[i].css(a),r.pages[i]&&r.pages[i].css({width:a.width,height:a.height}));return this.turn("resize"),this},resize:function(){var e,t=this.data();for(t.pages[0]&&(t.pageWrap[0].css({left:-this.width()}),t.pages[0].flip("resize",!0)),e=1;e<=t.totalPages;e++)t.pages[e]&&t.pages[e].flip("resize",!0);h._updateShadow.call(this),t.opts.autoCenter&&this.turn("center")},_removeMv:function(e){var t,i=this.data();for(t=0;t<i.pageMv.length;t++)if(i.pageMv[t]==e)return i.pageMv.splice(t,1),!0;return!1},_addMv:function(e){var t=this.data();h._removeMv.call(this,e),t.pageMv.push(e)},_view:function(i){var t=this.data(),i=i||t.page;return t.display=="double"?i%2?[i-1,i]:[i,i+1]:[i]},view:function(i){var t=this.data(),i=h._view.call(this,i);return t.display=="double"?[0<i[0]?i[0]:0,i[1]<=t.totalPages?i[1]:0]:[0<i[0]&&i[0]<=t.totalPages?i[0]:0]},stop:function(e,t){if(this.turn("animating")){var i,a,r,s=this.data();for(s.tpage&&(s.page=s.tpage,delete s.tpage),i=0;i<s.pageMv.length;i++)s.pageMv[i]&&s.pageMv[i]!==e&&(r=s.pages[s.pageMv[i]],a=r.data().f.opts,r.flip("hideFoldedPage",t),t||d._moveFoldingPage.call(r,!1),a.force&&(a.next=a.page%2===0?a.page-1:a.page+1,delete a.force))}return this.turn("update"),this},pages:function(e){var t=this.data();if(e){if(e<t.totalPages)for(var i=t.totalPages;i>e;i--)this.turn("removePage",i);return t.totalPages=e,h._fitPage.call(this,t.page),this}return t.totalPages},_missing:function(e){var t=this.data();if(!(1>t.totalPages)){for(var i=this.turn("range",e),a=[],e=i[0];e<=i[1];e++)t.pageObjs[e]||a.push(e);0<a.length&&this.trigger("missing",[a])}},_fitPage:function(e){var t=this.data(),i=this.turn("view",e);if(h._missing.call(this,e),t.pageObjs[e]){t.page=e,this.turn("stop");for(var a=0;a<i.length;a++)i[a]&&t.pageZoom[i[a]]!=t.zoom&&(this.trigger("zoomed",[i[a],i,t.pageZoom[i[a]],t.zoom]),t.pageZoom[i[a]]=t.zoom);h._removeFromDOM.call(this),h._makeRange.call(this),h._updateShadow.call(this),this.trigger("turned",[e,i]),this.turn("update"),t.opts.autoCenter&&this.turn("center")}},_turnPage:function(e){var t,i,a=this.data(),r=a.pagePlace[e],s=this.turn("view"),n=this.turn("view",e);if(a.page!=e){var p=a.page;if(m("turning",this,[e,n])=="prevented"){p==a.page&&o.inArray(r,a.pageMv)!=-1&&a.pages[r].flip("hideFoldedPage",!0);return}o.inArray(1,n)!=-1&&this.trigger("first"),o.inArray(a.totalPages,n)!=-1&&this.trigger("last")}a.display=="single"?(t=s[0],i=n[0]):s[1]&&e>s[1]?(t=s[1],i=n[0]):s[0]&&e<s[0]&&(t=s[0],i=n[1]),r=a.opts.turnCorners.split(","),s=a.pages[t].data().f,n=s.opts,p=s.point,h._missing.call(this,e),a.pageObjs[e]&&(this.turn("stop"),a.page=e,h._makeRange.call(this),a.tpage=i,n.next!=i&&(n.next=i,n.force=!0),this.turn("update"),s.point=p,s.effect=="hard"?a.direction=="ltr"?a.pages[t].flip("turnPage",e>t?"r":"l"):a.pages[t].flip("turnPage",e>t?"l":"r"):a.direction=="ltr"?a.pages[t].flip("turnPage",r[e>t?1:0]):a.pages[t].flip("turnPage",r[e>t?0:1]))},page:function(e){var t=this.data();if(e===void 0)return t.page;if(!t.disabled&&!t.destroying){if(e=parseInt(e,10),0<e&&e<=t.totalPages)return e!=t.page&&(!t.done||o.inArray(e,this.turn("view"))!=-1?h._fitPage.call(this,e):h._turnPage.call(this,e)),this;throw S("The page "+e+" does not exist")}},next:function(){return this.turn("page",Math.min(this.data().totalPages,h._view.call(this,this.data().page).pop()+1))},previous:function(){return this.turn("page",Math.max(1,h._view.call(this,this.data().page).shift()-1))},peel:function(e,r){var i=this.data(),a=this.turn("view"),r=r===void 0?!0:r===!0;return e===!1?this.turn("stop",null,r):i.display=="single"?i.pages[i.page].flip("peel",e,r):(a=i.direction=="ltr"?e.indexOf("l")!=-1?a[0]:a[1]:e.indexOf("l")!=-1?a[1]:a[0],i.pages[a]&&i.pages[a].flip("peel",e,r)),this},_addMotionPage:function(){var e=o(this).data().f.opts,t=e.turn;t.data(),h._addMv.call(t,e.page)},_eventStart:function(e,t,i){var a=t.turn.data(),r=a.pageZoom[t.page];e.isDefaultPrevented()||(r&&r!=a.zoom&&(t.turn.trigger("zoomed",[t.page,t.turn.turn("view",t.page),r,a.zoom]),a.pageZoom[t.page]=a.zoom),a.display=="single"&&i&&(i.charAt(1)=="l"&&a.direction=="ltr"||i.charAt(1)=="r"&&a.direction=="rtl"?(t.next=t.next<t.page?t.next:t.page-1,t.force=!0):t.next=t.next>t.page?t.next:t.page+1),h._addMotionPage.call(e.target)),h._updateShadow.call(t.turn)},_eventEnd:function(a,t,i){o(a.target).data();var a=t.turn,r=a.data();i?(i=r.tpage||r.page,(i==t.next||i==t.page)&&(delete r.tpage,h._fitPage.call(a,i||t.next,!0))):(h._removeMv.call(a,t.page),h._updateShadow.call(a),a.turn("update"))},_eventPressed:function(t){var t=o(t.target).data().f,i=t.opts.turn;return i.data().mouseAction=!0,i.turn("update"),t.time=new Date().getTime()},_eventReleased:function(e,t){var i;i=o(e.target);var a=i.data().f,r=a.opts.turn,s=r.data();i=s.display=="single"?t.corner=="br"||t.corner=="tr"?t.x<i.width()/2:t.x>i.width()/2:0>t.x||t.x>i.width(),(200>new Date().getTime()-a.time||i)&&(e.preventDefault(),h._turnPage.call(r,a.opts.next)),s.mouseAction=!1},_flip:function(e){e.stopPropagation(),e=o(e.target).data().f.opts,e.turn.trigger("turn",[e.next]),e.turn.data().opts.autoCenter&&e.turn.turn("center",e.next)},_touchStart:function(){var e=this.data(),t;for(t in e.pages)if(x(t,e.pages)&&d._eventStart.apply(e.pages[t],arguments)===!1)return!1},_touchMove:function(){var e=this.data(),t;for(t in e.pages)x(t,e.pages)&&d._eventMove.apply(e.pages[t],arguments)},_touchEnd:function(){var e=this.data(),t;for(t in e.pages)x(t,e.pages)&&d._eventEnd.apply(e.pages[t],arguments)},calculateZ:function(e){var t,i,a,r,s=this,n=this.data();t=this.turn("view");var p=t[0]||t[1],l=e.length-1,c={pageZ:{},partZ:{},pageV:{}},v=function(y){y=s.turn("view",y),y[0]&&(c.pageV[y[0]]=!0),y[1]&&(c.pageV[y[1]]=!0)};for(t=0;t<=l;t++)i=e[t],a=n.pages[i].data().f.opts.next,r=n.pagePlace[i],v(i),v(a),i=n.pagePlace[a]==a?a:i,c.pageZ[i]=n.totalPages-Math.abs(p-i),c.partZ[r]=2*n.totalPages-l+t;return c},update:function(){var e,t=this.data();if(this.turn("animating")&&t.pageMv[0]!==0){var i,a=this.turn("calculateZ",t.pageMv),r=this.turn("corner"),s=this.turn("view"),n=this.turn("view",t.tpage);for(e in t.pageWrap)x(e,t.pageWrap)&&(i=t.pageObjs[e].hasClass("fixed"),t.pageWrap[e].css({display:a.pageV[e]||i?"":"none",zIndex:(t.pageObjs[e].hasClass("hard")?a.partZ[e]:a.pageZ[e])||(i?-1:0)}),i=t.pages[e])&&(i.flip("z",a.partZ[e]||null),a.pageV[e]&&i.flip("resize"),t.tpage?i.flip("hover",!1).flip("disable",o.inArray(parseInt(e,10),t.pageMv)==-1&&e!=n[0]&&e!=n[1]):i.flip("hover",r===!1).flip("disable",e!=s[0]&&e!=s[1]))}else for(e in t.pageWrap)x(e,t.pageWrap)&&(a=h._setPageLoc.call(this,e),t.pages[e]&&t.pages[e].flip("disable",t.disabled||a!=1).flip("hover",!0).flip("z",null));return this},_updateShadow:function(){var e,t,i=this.data(),a=this.width(),r=this.height(),s=i.display=="single"?a:a/2;e=this.turn("view"),i.shadow||(i.shadow=o("<div />",{class:"shadow",css:z(0,0,0).css}).appendTo(this));for(var n=0;n<i.pageMv.length&&e[0]&&e[1];n++)e=this.turn("view",i.pages[i.pageMv[n]].data().f.opts.next),t=this.turn("view",i.pageMv[n]),e[0]=e[0]&&t[0],e[1]=e[1]&&t[1];switch(e[0]?e[1]?3:i.direction=="ltr"?2:1:i.direction=="ltr"?1:2){case 1:i.shadow.css({width:s,height:r,top:0,left:s});break;case 2:i.shadow.css({width:s,height:r,top:0,left:0});break;case 3:i.shadow.css({width:a,height:r,top:0,left:0})}},_setPageLoc:function(e){var t=this.data(),i=this.turn("view"),a=0;if(e==i[0]||e==i[1]?a=1:(t.display=="single"&&e==i[0]+1||t.display=="double"&&e==i[0]-2||e==i[1]+2)&&(a=2),!this.turn("animating"))switch(a){case 1:t.pageWrap[e].css({zIndex:t.totalPages,display:""});break;case 2:t.pageWrap[e].css({zIndex:t.totalPages-1,display:""});break;case 0:t.pageWrap[e].css({zIndex:0,display:t.pageObjs[e].hasClass("fixed")?"":"none"})}return a},options:function(e){if(e===void 0)return this.data().opts;var t=this.data();if(o.extend(t.opts,e),e.pages&&this.turn("pages",e.pages),e.page&&this.turn("page",e.page),e.display&&this.turn("display",e.display),e.direction&&this.turn("direction",e.direction),e.width&&e.height&&this.turn("size",e.width,e.height),e.when)for(var i in e.when)x(i,e.when)&&this.unbind(i).bind(i,e.when[i]);return this},version:function(){return"4.1.0"}},d={init:function(e){return this.data({f:{disabled:!1,hover:!1,effect:this.hasClass("hard")?"hard":"sheet"}}),this.flip("options",e),d._addPageWrapper.call(this),this},setData:function(e){var t=this.data();return t.f=o.extend(t.f,e),this},options:function(e){var t=this.data().f;return e?(d.setData.call(this,{opts:o.extend({},t.opts||J,e)}),this):t.opts},z:function(e){var t=this.data().f;return t.opts["z-index"]=e,t.fwrapper&&t.fwrapper.css({zIndex:e||parseInt(t.parent.css("z-index"),10)||0}),this},_cAllowed:function(){var e=this.data().f,t=e.opts.page,i=e.opts.turn.data(),a=t%2;return e.effect=="hard"?i.direction=="ltr"?[a?"r":"l"]:[a?"l":"r"]:i.display=="single"?t==1?i.direction=="ltr"?j.forward:j.backward:t==i.totalPages?i.direction=="ltr"?j.backward:j.forward:j.all:i.direction=="ltr"?j[a?"forward":"backward"]:j[a?"backward":"forward"]},_cornerActivated:function(r){var t=this.data().f,i=this.width(),a=this.height(),r={x:r.x,y:r.y,corner:""},s=t.opts.cornerSize;if(0>=r.x||0>=r.y||r.x>=i||r.y>=a)return!1;var n=d._cAllowed.call(this);switch(t.effect){case"hard":if(r.x>i-s)r.corner="r";else if(r.x<s)r.corner="l";else return!1;break;case"sheet":if(r.y<s)r.corner+="t";else if(r.y>=a-s)r.corner+="b";else return!1;if(r.x<=s)r.corner+="l";else if(r.x>=i-s)r.corner+="r";else return!1}return!r.corner||o.inArray(r.corner,n)==-1?!1:r},_isIArea:function(i){var t=this.data().f.parent.offset(),i=k&&i.originalEvent?i.originalEvent.touches[0]:i;return d._cornerActivated.call(this,{x:i.pageX-t.left,y:i.pageY-t.top})},_c:function(e,t){switch(t=t||0,e){case"tl":return g(t,t);case"tr":return g(this.width()-t,t);case"bl":return g(t,this.height()-t);case"br":return g(this.width()-t,this.height()-t);case"l":return g(t,0);case"r":return g(this.width()-t,0)}},_c2:function(e){switch(e){case"tl":return g(2*this.width(),0);case"tr":return g(-this.width(),0);case"bl":return g(2*this.width(),this.height());case"br":return g(-this.width(),this.height());case"l":return g(2*this.width(),0);case"r":return g(-this.width(),0)}},_foldingPage:function(){var e=this.data().f;if(e){var t=e.opts;if(t.turn)return e=t.turn.data(),e.display=="single"?1<t.next||1<t.page?e.pageObjs[0]:null:e.pageObjs[t.next]}},_backGradient:function(){var e=this.data().f,t=e.opts.turn.data();return(t=t.opts.gradients&&(t.display=="single"||e.opts.page!=2&&e.opts.page!=t.totalPages-1))&&!e.bshadow&&(e.bshadow=o("<div/>",z(0,0,1)).css({position:"",width:this.width(),height:this.height()}).appendTo(e.parent)),t},type:function(){return this.data().f.effect},resize:function(e){var t=this.data().f,i=t.opts.turn.data(),a=this.width(),r=this.height();switch(t.effect){case"hard":e&&(t.wrapper.css({width:a,height:r}),t.fpage.css({width:a,height:r}),i.opts.gradients&&(t.ashadow.css({width:a,height:r}),t.bshadow.css({width:a,height:r})));break;case"sheet":e&&(e=Math.round(Math.sqrt(Math.pow(a,2)+Math.pow(r,2))),t.wrapper.css({width:e,height:e}),t.fwrapper.css({width:e,height:e}).children(":first-child").css({width:a,height:r}),t.fpage.css({width:a,height:r}),i.opts.gradients&&t.ashadow.css({width:a,height:r}),d._backGradient.call(this)&&t.bshadow.css({width:a,height:r})),t.parent.is(":visible")&&(i=L(t.parent[0]),t.fwrapper.css({top:i.top,left:i.left}),i=L(t.opts.turn[0]),t.fparent.css({top:-i.top,left:-i.left})),this.flip("z",t.opts["z-index"])}},_addPageWrapper:function(){var e=this.data().f,t=e.opts.turn.data(),i=this.parent();if(e.parent=i,!e.wrapper)switch(e.effect){case"hard":var a={};a[W+"transform-style"]="preserve-3d",a[W+"backface-visibility"]="hidden",e.wrapper=o("<div/>",z(0,0,2)).css(a).appendTo(i).prepend(this),e.fpage=o("<div/>",z(0,0,1)).css(a).appendTo(i),t.opts.gradients&&(e.ashadow=o("<div/>",z(0,0,0)).hide().appendTo(i),e.bshadow=o("<div/>",z(0,0,0)));break;case"sheet":var a=this.width();this.height(),e.fparent=e.opts.turn.data().fparent,e.fparent||(a=o("<div/>",{css:{"pointer-events":"none"}}).hide(),a.data().flips=0,a.css(z(0,0,"auto","visible").css).appendTo(e.opts.turn),e.opts.turn.data().fparent=a,e.fparent=a),this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"}),e.wrapper=o("<div/>",z(0,0,this.css("z-index"))).appendTo(i).prepend(this),e.fwrapper=o("<div/>",z(i.offset().top,i.offset().left)).hide().appendTo(e.fparent),e.fpage=o("<div/>",z(0,0,0,"visible")).css({cursor:"default"}).appendTo(e.fwrapper),t.opts.gradients&&(e.ashadow=o("<div/>",z(0,0,1)).appendTo(e.fpage)),d.setData.call(this,e)}d.resize.call(this,!0)},_fold:function(e){var t=this.data().f,i=t.opts.turn.data(),a=d._c.call(this,e.corner),r=this.width(),s=this.height();switch(t.effect){case"hard":e.x=e.corner=="l"?Math.min(Math.max(e.x,0),2*r):Math.max(Math.min(e.x,r),-r);var n,p,l,c,v,y=i.totalPages,U=t.opts["z-index"]||y,at={overflow:"visible"},Q=a.x?(a.x-e.x)/r:e.x/r,tt=90*Q,rt=90>tt;switch(e.corner){case"l":c="0% 50%",v="100% 50%",rt?(n=0,p=0<t.opts.next-1,l=1):(n="100%",p=t.opts.page+1<y,l=0);break;case"r":c="100% 50%",v="0% 50%",tt=-tt,r=-r,rt?(n=0,p=t.opts.next+1<y,l=0):(n="-100%",p=t.opts.page!=1,l=1)}at[W+"perspective-origin"]=v,t.wrapper.transform("rotateY("+tt+"deg)translate3d(0px, 0px, "+(this.attr("depth")||0)+"px)",v),t.fpage.transform("translateX("+r+"px) rotateY("+(180+tt)+"deg)",c),t.parent.css(at),rt?(Q=-Q+1,t.wrapper.css({zIndex:U+1}),t.fpage.css({zIndex:U})):(Q-=1,t.wrapper.css({zIndex:U}),t.fpage.css({zIndex:U+1})),i.opts.gradients&&(p?t.ashadow.css({display:"",left:n,backgroundColor:"rgba(0,0,0,"+.5*Q+")"}).transform("rotateY(0deg)"):t.ashadow.hide(),t.bshadow.css({opacity:-Q+1}),rt?t.bshadow.parent()[0]!=t.wrapper[0]&&t.bshadow.appendTo(t.wrapper):t.bshadow.parent()[0]!=t.fpage[0]&&t.bshadow.appendTo(t.fpage),F(t.bshadow,g(100*l,0),g(100*(-l+1),0),[[0,"rgba(0,0,0,0.3)"],[1,"rgba(0,0,0,0)"]],2));break;case"sheet":var st=this,et=0,lt,q,N,nt,H,ot,ct,D=g(0,0),pt=g(0,0),P=g(0,0),wt=d._foldingPage.call(this),ht=i.opts.acceleration,gt=t.wrapper.height(),R=e.corner.substr(0,1)=="t",Y=e.corner.substr(1,1)=="l",it=function(){var f=g(0,0),O=g(0,0);f.x=a.x?a.x-e.x:e.x,f.y=M?a.y?a.y-e.y:e.y:0,O.x=Y?r-f.x/2:e.x+f.x/2,O.y=f.y/2;var b=A-Math.atan2(f.y,f.x),_=b-Math.atan2(O.y,O.x),_=Math.max(0,Math.sin(_)*Math.sqrt(Math.pow(O.x,2)+Math.pow(O.y,2)));return et=180*(b/C),P=g(_*Math.sin(b),_*Math.cos(b)),b>A&&(P.x+=Math.abs(P.y*f.y/f.x),P.y=0,Math.round(P.x*Math.tan(C-b))<s)?(e.y=Math.sqrt(Math.pow(s,2)+2*O.x*f.x),R&&(e.y=s-e.y),it()):(b>A&&(f=C-b,O=gt-s/Math.sin(f),D=g(Math.round(O*Math.cos(f)),Math.round(O*Math.sin(f))),Y&&(D.x=-D.x),R&&(D.y=-D.y)),lt=Math.round(P.y/Math.tan(b)+P.x),f=r-lt,O=f*Math.cos(2*b),_=f*Math.sin(2*b),pt=g(Math.round(Y?f-O:lt+O),Math.round(R?_:s-_)),i.opts.gradients&&(H=f*Math.sin(b),f=d._c2.call(st,e.corner),f=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2))/r,ct=Math.sin(A*(1<f?2-f:f)),ot=Math.min(f,1),nt=100<H?(H-100)/H:0,q=g(100*(H*Math.sin(b)/r),100*(H*Math.cos(b)/s)),d._backGradient.call(st)&&(N=g(100*(1.2*H*Math.sin(b)/r),100*(1.2*H*Math.cos(b)/s)),Y||(N.x=100-N.x),R||(N.y=100-N.y))),P.x=Math.round(P.x),P.y=Math.round(P.y),!0)};switch(n=function(f,X,b,_){var V=["0","auto"],ft=(r-gt)*b[0]/100,ut=(s-gt)*b[1]/100,X={left:V[X[0]],top:V[X[1]],right:V[X[2]],bottom:V[X[3]]},V={},vt=_!=90&&_!=-90?Y?-1:1:0,dt=b[0]+"% "+b[1]+"%";st.css(X).transform(E(_)+Z(f.x+vt,f.y,ht),dt),t.fpage.css(X).transform(E(_)+Z(f.x+pt.x-D.x-r*b[0]/100,f.y+pt.y-D.y-s*b[1]/100,ht)+E((180/_-2)*_),dt),t.wrapper.transform(Z(-f.x+ft-vt,-f.y+ut,ht)+E(-_),dt),t.fwrapper.transform(Z(-f.x+D.x+ft,-f.y+D.y+ut,ht)+E(-_),dt),i.opts.gradients&&(b[0]&&(q.x=100-q.x),b[1]&&(q.y=100-q.y),V["box-shadow"]="0 0 20px rgba(0,0,0,"+.5*ct+")",wt.css(V),F(t.ashadow,g(Y?100:0,R?0:100),g(q.x,q.y),[[nt,"rgba(0,0,0,0)"],[.8*(1-nt)+nt,"rgba(0,0,0,"+.2*ot+")"],[1,"rgba(255,255,255,"+.2*ot+")"]],3),d._backGradient.call(st)&&F(t.bshadow,g(Y?0:100,R?0:100),g(N.x,N.y),[[.6,"rgba(0,0,0,0)"],[.8,"rgba(0,0,0,"+.3*ot+")"],[1,"rgba(0,0,0,0)"]],3))},e.corner){case"tl":e.x=Math.max(e.x,1),it(),n(P,[1,0,0,1],[100,0],et);break;case"tr":e.x=Math.min(e.x,r-1),it(),n(g(-P.x,P.y),[0,0,0,1],[0,0],-et);break;case"bl":e.x=Math.max(e.x,1),it(),n(g(P.x,-P.y),[1,1,0,0],[100,100],-et);break;case"br":e.x=Math.min(e.x,r-1),it(),n(g(-P.x,-P.y),[0,1,1,0],[0,100],et)}}t.point=e},_moveFoldingPage:function(e){var t=this.data().f;if(t){var i=t.opts.turn,a=i.data(),r=a.pagePlace;e?(a=t.opts.next,r[a]!=t.opts.page&&(t.folding&&d._moveFoldingPage.call(this,!1),d._foldingPage.call(this).appendTo(t.fpage),r[a]=t.opts.page,t.folding=a),i.turn("update")):t.folding&&(a.pages[t.folding]?(i=a.pages[t.folding].data().f,a.pageObjs[t.folding].appendTo(i.wrapper)):a.pageWrap[t.folding]&&a.pageObjs[t.folding].appendTo(a.pageWrap[t.folding]),t.folding in r&&(r[t.folding]=t.folding),delete t.folding)}},_showFoldedPage:function(e,t){var i=d._foldingPage.call(this),a=this.data(),r=a.f,s=r.visible;if(i){if((!s||!r.point||r.point.corner!=e.corner)&&(i=r.status=="hover"||r.status=="peel"||r.opts.turn.data().mouseAction?e.corner:null,s=!1,m("start",this,[r.opts,i])=="prevented"))return!1;if(t){var n=this,a=r.point&&r.point.corner==e.corner?r.point:d._c.call(this,e.corner,1);this.animatef({from:[a.x,a.y],to:[e.x,e.y],duration:500,frame:function(l){e.x=Math.round(l[0]),e.y=Math.round(l[1]),d._fold.call(n,e)}})}else d._fold.call(this,e),a.effect&&!a.effect.turning&&this.animatef(!1);if(!s)switch(r.effect){case"hard":r.visible=!0,d._moveFoldingPage.call(this,!0),r.fpage.show(),r.opts.shadows&&r.bshadow.show();break;case"sheet":r.visible=!0,r.fparent.show().data().flips++,d._moveFoldingPage.call(this,!0),r.fwrapper.show(),r.bshadow&&r.bshadow.show()}return!0}return!1},hide:function(){var e=this.data().f,t=e.opts.turn.data(),i=d._foldingPage.call(this);switch(e.effect){case"hard":t.opts.gradients&&(e.bshadowLoc=0,e.bshadow.remove(),e.ashadow.hide()),e.wrapper.transform(""),e.fpage.hide();break;case"sheet":--e.fparent.data().flips===0&&e.fparent.hide(),this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform(""),e.wrapper.transform(""),e.fwrapper.hide(),e.bshadow&&e.bshadow.hide(),i.transform("")}return e.visible=!1,this},hideFoldedPage:function(e){var t=this.data().f;if(t.point){var i=this,a=t.point,r=function(){t.point=null,t.status="",i.flip("hide"),i.trigger("end",[t.opts,!1])};if(e){var s=d._c.call(this,a.corner),e=a.corner.substr(0,1)=="t"?Math.min(0,a.y-s.y)/2:Math.max(0,a.y-s.y)/2,n=g(a.x,a.y+e),p=g(s.x,s.y-e);this.animatef({from:0,to:1,frame:function(c){c=$(a,n,p,s,c),a.x=c.x,a.y=c.y,d._fold.call(i,a)},complete:r,duration:800,hiding:!0})}else this.animatef(!1),r()}},turnPage:function(r){var t=this,i=this.data().f,a=i.opts.turn.data(),r={corner:i.corner?i.corner.corner:r||d._cAllowed.call(this)[0]},s=i.point||d._c.call(this,r.corner,i.opts.turn?a.opts.elevation:0),n=d._c2.call(this,r.corner);this.trigger("flip").animatef({from:0,to:1,frame:function(p){p=$(s,s,n,n,p),r.x=p.x,r.y=p.y,d._showFoldedPage.call(t,r)},complete:function(){t.trigger("end",[i.opts,!0])},duration:a.opts.duration,turning:!0}),i.corner=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},corner:function(){return this.data().f.corner},_eventStart:function(e){var t=this.data().f,i=t.opts.turn;if(!t.corner&&!t.disabled&&!this.flip("isTurning")&&t.opts.page==i.data().pagePlace[t.opts.page]){if(t.corner=d._isIArea.call(this,e),t.corner&&d._foldingPage.call(this))return this.trigger("pressed",[t.point]),d._showFoldedPage.call(this,t.corner),!1;t.corner=null}},_eventMove:function(e){var t=this.data().f;if(!t.disabled)if(e=k?e.originalEvent.touches:[e],t.corner){var i=t.parent.offset();t.corner.x=e[0].pageX-i.left,t.corner.y=e[0].pageY-i.top,d._showFoldedPage.call(this,t.corner)}else t.hover&&!this.data().effect&&this.is(":visible")&&((e=d._isIArea.call(this,e[0]))?(t.effect=="sheet"&&e.corner.length==2||t.effect=="hard")&&(t.status="hover",t=d._c.call(this,e.corner,t.opts.cornerSize/2),e.x=t.x,e.y=t.y,d._showFoldedPage.call(this,e,!0)):t.status=="hover"&&(t.status="",d.hideFoldedPage.call(this,!0)))},_eventEnd:function(){var e=this.data().f,t=e.corner;!e.disabled&&t&&m("released",this,[e.point||t])!="prevented"&&d.hideFoldedPage.call(this,!0),e.corner=null},disable:function(e){return d.setData.call(this,{disabled:e}),this},hover:function(e){return d.setData.call(this,{hover:e}),this},peel:function(e,t){var i=this.data().f;if(e){if(o.inArray(e,j.all)==-1)throw S("Corner "+e+" is not permitted");if(o.inArray(e,d._cAllowed.call(this))!=-1){var a=d._c.call(this,e,i.opts.cornerSize/2);i.status="peel",d._showFoldedPage.call(this,{corner:e,x:a.x,y:a.y},t)}}else i.status="",d.hideFoldedPage.call(this,t);return this}};window.requestAnim=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},o.extend(o.fn,{flip:function(){return u(o(this[0]),d,arguments)},turn:function(){return u(o(this[0]),h,arguments)},transform:function(e,t){var i={};return t&&(i[W+"transform-origin"]=t),i[W+"transform"]=e,this.css(i)},animatef:function(e){var t=this.data();if(t.effect&&t.effect.stop(),e){e.to.length||(e.to=[e.to]),e.from.length||(e.from=[e.from]);for(var i=[],a=e.to.length,r=!0,s=this,n=new Date().getTime(),p=function(){if(t.effect&&r){for(var c=[],v=Math.min(e.duration,new Date().getTime()-n),y=0;y<a;y++)c.push(t.effect.easing(1,v,e.from[y],i[y],e.duration));e.frame(a==1?c[0]:c),v==e.duration?(delete t.effect,s.data(t),e.complete&&e.complete()):window.requestAnim(p)}},l=0;l<a;l++)i.push(e.to[l]-e.from[l]);t.effect=o.extend({stop:function(){r=!1},easing:function(c,v,y,U,at){return U*Math.sqrt(1-(v=v/at-1)*v)+y}},e),this.data(t),p()}else delete t.effect}}),o.isTouch=k,o.mouseEvents=I,o.cssPrefix=w,o.cssTransitionEnd=function(){var e,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MSTransition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(t.style[e]!==void 0)return i[e]},o.findPos=L})(jQuery);
